:- [sudoku_writer].
:- [sudoku_solver].

main(X):-
	puzzle(X,L),get_time(Start), solve(L),write_sudoku(L), get_time(End), Time is End-Start, 
	format('It took ~f seconds to solve the sudoku', [Time]),!.

%Should succeed in any case
puzzle(1,L):-
	L = [
	3, 9, 1, 2, 8, 6, 5, 7, 4,
	4, 8, 7, 3, 5, 9, 1, 2, 6,
	6, 5, 2, 7, 1, 4, 8, 3, 9,
	8, 7, 5, 4, 3, 1, 6, 9, 2,
	2, 1, 3, 9, 6, 7, 4, 8, 5,
	9, 6, 4, 5, 2, 8, 7, 1, 3,
	1, 4, 9, 6, 7, 3, 2, 5, 8,
	5, 3, 8, 1, 4, 2, 9, 6, 7,
	7, 2, 6, 8, 9, 5, 3, 4, 1
	].
	
%very easy
puzzle(2,L):-
	L= [
	_, 2, _, 4, 5, 6, 7, 8, 9,
	4, 5, 7, _, 8, _, 2, 3, 6,
	6, 8, 9, 2, 3, 7, _, 4, _,
	_, _, 5, 3, 6, 2, 9, 7, 4,
	2, 7, 4, _, 9, _, 6, 5, 3,
	3, 9, 6, 5, 7, 4, 8, _, _,
	_, 4, _, 6, 1, 8, 3, 9, 7,
	7, 6, 1, _, 4, _, 5, 2, 8,
	9, 3, 8, 7, 2, 5, _, 6, _
	].

%medium level
%old record ~2500 seconds
%new record 0.3 seconds
puzzle(3,L):-
	L = [
	_, _, 6, 	_, 1, _, 	2, _, _,
	_, _, 1, 	_, _, 6,	_, 7, 8,
	_, _, 3, 	2, _, _,	_, _, _,
	
	_, 8, _, 	5, 9, _, 	_, 2, _,
	_, 9, _,	6, 2, 4, 	_, 1, _,
	_, 6, _, 	_, 8, 1,	_, 9, _,
	
	_, _, _, 	_, _, 8, 	4, _, _,
	6, 3, _, 	1, _, _, 	5, _, _,
	_, _, 8, 	_, 7, _, 	1, _, _
	].
	
%insane level
%2.33 seconds
puzzle(4,L):-
	L = [
	_, _, 7,	_, _, _,	_, 8, 5,
	_, _, _,	4, 5, _,	1, _, 7,
	_, 1, 5,	_, _, 6,	_, 4, _,
	
	_, _, _,	_, 1, _,	_, 7, 4,
	_, _, _,	_, _, _,	_, _, _,
	1, 3, _,	_, 9, _,	_, _, _,
	
	_, 5, _,	8, _, _,	3, 6, _,
	4, _, 9,	_, 3, 5,	_, _, _,
	3, 8, _, 	_, _, _,	4, _, _
	].